import React, { useState, useEffect } from 'react';

// v3.1 - Real Heart Design with Dark Mode Support - Updated 2025-12-25

interface HeartIconProps {
    filled?: boolean;
    size?: number;
    className?: string;
    onClick?: () => void;
}

const HeartIcon: React.FC<HeartIconProps> = ({ filled = false, size = 48, className = '', onClick }) => {
    const [isDarkMode, setIsDarkMode] = useState(false);

    useEffect(() => {
        // Detect dark mode
        const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');
        setIsDarkMode(mediaQuery.matches);

        const handler = (e: MediaQueryListEvent) => setIsDarkMode(e.matches);
        mediaQuery.addEventListener('change', handler);
        return () => mediaQuery.removeEventListener('change', handler);
    }, []);

    // Color for the outline/border - white in dark mode, black in light mode
    const borderColor = isDarkMode ? '#ffffff' : '#000000';

    if (filled) {
        // FILLED HEART - corazon_pintado.svg
        return (
            <svg
                width={size}
                height={size}
                viewBox="0 0 210 210"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                className={className}
                onClick={onClick}
                style={{ cursor: onClick ? 'pointer' : 'default' }}
            >
                <path
                    style={{ fill: '#f73e51', fillOpacity: 1, strokeWidth: 0.0419357 }}
                    d="m 51.644839,10.001993 c 22.501438,0.230851 40.208694,20.890568 45.232953,37.225865 10.679128,-5.311964 18.734888,-1.835203 29.675448,7.593153 12.64976,-13.320406 29.45487,-31.082424 49.99397,-32.174704 10.12118,-0.701052 19.21272,6.918 22.39447,19.159162 3.36477,16.354151 -1.64946,36.035122 -10.01935,53.7377 -1.51147,5.265671 -4.60464,9.555201 -6.54255,14.596351 -15.02947,33.86569 -36.63809,64.86963 -66.29205,88.84312 -0.51883,0.63488 -1.18646,1.1332 -2.2339,0.9938 C 76.968418,181.17121 50.866973,157.38914 31.820027,129.30399 19.914323,107.65375 11.586517,82.475709 10.27725,61.124598 7.7860894,37.78312 22.280065,12.895635 45.82565,10.39857 c 1.970965,-0.288936 3.912287,-0.4161434 5.819189,-0.396577 z"
                />
                <path
                    style={{ fill: borderColor, strokeWidth: 0.110955 }}
                    d="M 113.85374,199.97645 C 76.968298,181.1712 50.867029,157.38915 31.820064,129.30396 19.914346,107.6537 11.586503,82.475675 10.277236,61.124542 7.7860709,37.783041 22.280102,12.895544 45.82571,10.398475 71.054064,6.7001125 91.427808,29.508104 96.877857,47.227766 107.557,41.915796 115.6127,45.392676 126.55327,54.821042 139.20304,41.500623 156.00819,23.738551 176.54731,22.64627 c 10.12118,-0.701053 19.2127,6.917934 22.39445,19.159107 3.36478,16.354168 -1.64959,36.035157 -10.01949,53.737754 -1.51147,5.265679 -4.60448,9.555329 -6.5424,14.596489 -15.02948,33.86571 -36.63807,64.86944 -66.29205,88.84295 -0.51884,0.63488 -1.18663,1.13327 -2.23408,0.99388 z m 0.009,-11.43826 c 29.58886,-25.99016 55.79811,-75.17049 66.65468,-103.32374 2.32565,-6.80699 13.25129,-36.188084 0.52867,-48.087427 -15.25201,-13.710356 -41.64518,16.309878 -48.13009,25.548885 12.73205,14.885596 14.40604,51.905772 -4.96675,64.884482 -4.4515,2.04338 -11.78352,3.49057 -15.20051,-1.08998 -12.51307,-18.7753 -1.79943,-41.603794 5.60979,-59.602908 -3.03877,-4.015338 -8.59448,-9.936101 -18.23827,-10.115469 0.33476,2.649046 3.23811,8.851935 2.42459,12.644675 1.28443,14.452581 1.54646,29.411039 -2.691672,43.603712 -1.927389,6.10069 -6.150142,12.88368 -14.529445,14.01451 -9.642581,1.17375 -17.977504,-11.20096 -20.641412,-18.9498 C 60.051783,82.29563 65.667827,70.182632 86.299469,55.659044 81.604437,42.467306 71.364235,28.620661 57.047275,22.183257 31.00554,11.237521 23.35711,38.289011 24.577108,53.641887 c 1.408474,12.318957 3.326572,25.766079 8.000017,37.592356 3.570119,11.649857 9.347509,22.927047 16.316193,33.494547 6.478144,9.55295 13.804921,18.8011 22.755436,27.08089 12.706142,12.47407 27.108615,23.43716 39.751466,36.1461 0.84072,0.66564 1.35014,1.74174 2.46217,0.58241 z m 9.24207,-69.49484 c 2.532,-2.25723 2.35735,-5.29828 3.6091,-8.35717 0.85477,-3.28714 2.13886,-6.98316 1.94132,-10.52087 0.23572,-3.090941 1.25361,-5.777755 0.0962,-9.006562 -0.29314,-3.948869 -1.32965,-7.932476 -3.01588,-11.699544 -2.18026,8.472563 -10.59761,33.889406 -2.63077,39.584146 z m -35.763545,-0.73204 c 6.251901,-1.48269 8.306821,-37.808739 2.483294,-54.9326 -12.920791,12.785518 -18.069959,32.102441 -11.214226,47.00574 1.994493,2.98009 5.667519,8.77676 8.730932,7.92686 z"
                />
            </svg>
        );
    } else {
        // EMPTY HEART - corazon_filete.svg  
        return (
            <svg
                width={size}
                height={size}
                viewBox="0 0 210 210"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                className={className}
                onClick={onClick}
                style={{ cursor: onClick ? 'pointer' : 'default' }}
            >
                <path
                    style={{ fill: '#000000', strokeWidth: 0.110955 }}
                    d="M 113.85374,199.97645 C 76.968298,181.1712 50.867029,157.38915 31.820064,129.30396 19.914346,107.6537 11.586503,82.475675 10.277236,61.124542 7.7860709,37.783041 22.280102,12.895544 45.82571,10.398475 71.054064,6.7001125 91.427808,29.508104 96.877857,47.227766 107.557,41.915796 115.6127,45.392676 126.55327,54.821042 139.20304,41.500623 156.00819,23.738551 176.54731,22.64627 c 10.12118,-0.701053 19.2127,6.917934 22.39445,19.159107 3.36478,16.354168 -1.64959,36.035157 -10.01949,53.737754 -1.51147,5.265679 -4.60448,9.555329 -6.5424,14.596489 -15.02948,33.86571 -36.63807,64.86944 -66.29205,88.84295 -0.51884,0.63488 -1.18663,1.13327 -2.23408,0.99388 z m 0.009,-11.43826 c 29.58886,-25.99016 55.79811,-75.17049 66.65468,-103.32374 2.32565,-6.80699 13.25129,-36.188084 0.52867,-48.087427 -15.25201,-13.710356 -41.64518,16.309878 -48.13009,25.548885 12.73205,14.885596 14.40604,51.905772 -4.96675,64.884482 -4.4515,2.04338 -11.78352,3.49057 -15.20051,-1.08998 -12.51307,-18.7753 -1.79943,-41.603794 5.60979,-59.602908 -3.03877,-4.015338 -8.59448,-9.936101 -18.23827,-10.115469 0.33476,2.649046 3.23811,8.851935 2.42459,12.644675 1.28443,14.452581 1.54646,29.411039 -2.691672,43.603712 -1.927389,6.10069 -6.150142,12.88368 -14.529445,14.01451 -9.642581,1.17375 -17.977504,-11.20096 -20.641412,-18.9498 C 60.051783,82.29563 65.667827,70.182632 86.299469,55.659044 81.604437,42.467306 71.364235,28.620661 57.047275,22.183257 31.00554,11.237521 23.35711,38.289011 24.577108,53.641887 c 1.408474,12.318957 3.326572,25.766079 8.000017,37.592356 3.570119,11.649857 9.347509,22.927047 16.316193,33.494547 6.478144,9.55295 13.804921,18.8011 22.755436,27.08089 12.706142,12.47407 27.108615,23.43716 39.751466,36.1461 0.84072,0.66564 1.35014,1.74174 2.46217,0.58241 z m 9.24207,-69.49484 c 2.532,-2.25723 2.35735,-5.29828 3.6091,-8.35717 0.85477,-3.28714 2.13886,-6.98316 1.94132,-10.52087 0.23572,-3.090941 1.25361,-5.777755 0.0962,-9.006562 -0.29314,-3.948869 -1.32965,-7.932476 -3.01588,-11.699544 -2.18026,8.472563 -10.59761,33.889406 -2.63077,39.584146 z m -35.763545,-0.73204 c 6.251901,-1.48269 8.306821,-37.808739 2.483294,-54.9326 -12.920791,12.785518 -18.069959,32.102441 -11.214226,47.00574 1.994493,2.98009 5.667519,8.77676 8.730932,7.92686 z"
                />
            </svg>
        );
    }
};

export default HeartIcon;
